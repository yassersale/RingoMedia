"use strict";(self.webpackChunkabp_zero_template=self.webpackChunkabp_zero_template||[]).push([[57472],{57472:(_,m,s)=>{s.r(m),s.d(m,{InstallModule:()=>I});var g=s(95815),u=s(60263),p=s(77587),S=s(64369),c=s(40506),d=s(37857),f=s(40537),e=s(6435),r=s(34182),h=s(69808),v=s(61228),M=s(73565);function C(l,i){if(1&l&&(e.\u0275\u0275elementStart(0,"option",38),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&l){const a=i.$implicit;e.\u0275\u0275propertyInterpolate("value",a.value),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",a.name," ")}}const E=[{path:"",component:(()=>{class l extends c.c{constructor(a,t){super(a),this._installSettingService=t,this.saving=!1}loadAppSettingsJson(){this._installSettingService.getAppSettingsJson().subscribe(t=>{this.setupSettings.webSiteUrl=t.webSiteUrl,this.setupSettings.serverUrl=t.serverSiteUrl,this.languages=t.languages})}init(){this._installSettingService.checkDatabase().subscribe(a=>{a.isDatabaseExist&&(window.location.href="/")}),this.setupSettings=new d.pe,this.setupSettings.smtpSettings=new d.en,this.setupSettings.billInfo=new d.iK,this.setupSettings.defaultLanguage="en",this.loadAppSettingsJson()}ngOnInit(){this.init()}saveAll(){this.saving=!0,this._installSettingService.setup(this.setupSettings).pipe((0,f.x)(()=>{this.saving=!1})).subscribe(()=>{window.location.href="/"})}}return l.\u0275fac=function(a){return new(a||l)(e.\u0275\u0275directiveInject(e.Injector),e.\u0275\u0275directiveInject(d.Q7))},l.\u0275cmp=e.\u0275\u0275defineComponent({type:l,selectors:[["ng-component"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:84,vars:29,consts:[[1,"content","col-lg-12"],[1,"content","d-flex","flex-column","flex-column-fluid"],[1,"container","container-fluid","mt-4"],[1,"card","card-custom"],[1,"card-header"],[1,"card-title"],[1,"card-icon"],[1,"la","la-gear"],[1,"card-label"],["id","installForm",1,"form"],[1,"card-body"],[1,"form-section"],[1,"fs-lg","text-dark","fw-bold","mb-6"],[1,"fs-lg","text-dark","fw-bold","mb-6-title"],[1,"mb-5"],["type","text","placeholder","Connection String","name","connectionString","autocomplete","new-password",1,"form-control",3,"ngModel","value","ngModelChange"],[1,"separator","separator-dashed","my-5"],["type","password","placeholder","Admin Password","name","adminPassword","autocomplete","new-password",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","Client Side URL","name","webSiteUrl",1,"form-control",3,"ngModel","value","ngModelChange"],["type","text","placeholder","Server Side URL","name","serverUrl",1,"form-control",3,"ngModel","value","ngModelChange"],["name","defaultLanguage",1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["type","email","placeholder","Default from address","name","defaultFromAddress",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","Default from displayName","name","defaultFromDisplayName",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","SMTP host","name","smtpHost",1,"form-control",3,"ngModel","ngModelChange"],["type","number","placeholder","SMTP port","name","smtpPort",1,"form-control",3,"ngModel","ngModelChange"],[1,"control-label","col-md-12"],[1,"form-check","form-check-custom","form-check-solid","py-1"],["id","Settings_SmtpEnableSsl","type","checkbox","name","smtpEnableSsl","value","true",1,"form-check-input",3,"ngModel","ngModelChange"],[1,"form-check-label"],["id","Settings_SmtpUseDefaultCredentials","type","checkbox","name","smtpUseDefaultCredentials","value","true",1,"form-check-input",3,"ngModel","ngModelChange"],["type","text","placeholder","Domain name","name","smtpDomain",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","User name","name","smtpUserName",1,"form-control",3,"ngModel","ngModelChange"],["type","password","placeholder","Password","name","smtpPassword","id","SmtpPassword",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","legalName","placeholder","Legal name",1,"form-control",3,"ngModel","ngModelChange"],["name","billAddress","rows","5","placeholder","Address",1,"form-control",3,"ngModel","ngModelChange"],[1,"card-footer"],["id","SaveButton",1,"btn","btn-primary",3,"buttonBusy","busyText","click"],[3,"value"]],template:function(a,t){1&a&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275elementStart(1,"div",0),e.\u0275\u0275elementStart(2,"div",1),e.\u0275\u0275elementStart(3,"div",2),e.\u0275\u0275elementStart(4,"div",3),e.\u0275\u0275elementStart(5,"div",4),e.\u0275\u0275elementStart(6,"div",5),e.\u0275\u0275elementStart(7,"span",6),e.\u0275\u0275element(8,"i",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"h3",8),e.\u0275\u0275text(10,"AbpZeroTemplate Installation"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"form",9),e.\u0275\u0275elementStart(12,"div",10),e.\u0275\u0275elementStart(13,"div",11),e.\u0275\u0275elementStart(14,"div",12),e.\u0275\u0275elementStart(15,"h5",13),e.\u0275\u0275text(16," Connection String "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"div",14),e.\u0275\u0275elementStart(18,"input",15),e.\u0275\u0275listener("ngModelChange",function(n){return t.setupSettings.connectionString=n}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(19,"div",16),e.\u0275\u0275elementStart(20,"div",12),e.\u0275\u0275elementStart(21,"h5",13),e.\u0275\u0275text(22,"Admin Password"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"div",14),e.\u0275\u0275elementStart(24,"input",17),e.\u0275\u0275listener("ngModelChange",function(n){return t.setupSettings.adminPassword=n}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(25,"div",16),e.\u0275\u0275elementStart(26,"div",12),e.\u0275\u0275elementStart(27,"h5",13),e.\u0275\u0275text(28,"Client Side URL"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(29,"div",14),e.\u0275\u0275elementStart(30,"input",18),e.\u0275\u0275listener("ngModelChange",function(n){return t.setupSettings.webSiteUrl=n}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(31,"div",12),e.\u0275\u0275elementStart(32,"h5",13),e.\u0275\u0275text(33,"Server Side URL"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(34,"div",14),e.\u0275\u0275elementStart(35,"input",19),e.\u0275\u0275listener("ngModelChange",function(n){return t.setupSettings.serverUrl=n}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(36,"div",16),e.\u0275\u0275elementStart(37,"div",12),e.\u0275\u0275elementStart(38,"h5",13),e.\u0275\u0275text(39,"Default Language"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(40,"div",14),e.\u0275\u0275elementStart(41,"select",20),e.\u0275\u0275listener("ngModelChange",function(n){return t.setupSettings.defaultLanguage=n}),e.\u0275\u0275template(42,C,2,2,"option",21),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(43,"div",16),e.\u0275\u0275elementStart(44,"div",12),e.\u0275\u0275elementStart(45,"h5",13),e.\u0275\u0275text(46,"SMTP Settings"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(47,"div",14),e.\u0275\u0275elementStart(48,"input",22),e.\u0275\u0275listener("ngModelChange",function(n){return t.setupSettings.smtpSettings.defaultFromAddress=n}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(49,"div",14),e.\u0275\u0275elementStart(50,"input",23),e.\u0275\u0275listener("ngModelChange",function(n){return t.setupSettings.smtpSettings.defaultFromDisplayName=n}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(51,"div",14),e.\u0275\u0275elementStart(52,"input",24),e.\u0275\u0275listener("ngModelChange",function(n){return t.setupSettings.smtpSettings.smtpHost=n}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(53,"div",14),e.\u0275\u0275elementStart(54,"input",25),e.\u0275\u0275listener("ngModelChange",function(n){return t.setupSettings.smtpSettings.smtpPort=n}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(55,"div",14),e.\u0275\u0275element(56,"label",26),e.\u0275\u0275elementStart(57,"label",27),e.\u0275\u0275elementStart(58,"input",28),e.\u0275\u0275listener("ngModelChange",function(n){return t.setupSettings.smtpSettings.smtpEnableSsl=n}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(59,"span",29),e.\u0275\u0275text(60),e.\u0275\u0275pipe(61,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(62,"label",27),e.\u0275\u0275elementStart(63,"input",30),e.\u0275\u0275listener("ngModelChange",function(n){return t.setupSettings.smtpSettings.smtpUseDefaultCredentials=n}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(64,"span",29),e.\u0275\u0275text(65),e.\u0275\u0275pipe(66,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(67,"div",14),e.\u0275\u0275elementStart(68,"input",31),e.\u0275\u0275listener("ngModelChange",function(n){return t.setupSettings.smtpSettings.smtpDomain=n}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(69,"div",14),e.\u0275\u0275elementStart(70,"input",32),e.\u0275\u0275listener("ngModelChange",function(n){return t.setupSettings.smtpSettings.smtpUserName=n}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(71,"div",14),e.\u0275\u0275elementStart(72,"input",33),e.\u0275\u0275listener("ngModelChange",function(n){return t.setupSettings.smtpSettings.smtpPassword=n}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(73,"div",16),e.\u0275\u0275elementStart(74,"div",12),e.\u0275\u0275elementStart(75,"h5",13),e.\u0275\u0275text(76,"Invoice Info"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(77,"div",14),e.\u0275\u0275elementStart(78,"input",34),e.\u0275\u0275listener("ngModelChange",function(n){return t.setupSettings.billInfo.legalName=n}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(79,"div",14),e.\u0275\u0275elementStart(80,"textarea",35),e.\u0275\u0275listener("ngModelChange",function(n){return t.setupSettings.billInfo.address=n}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(81,"div",36),e.\u0275\u0275elementStart(82,"button",37),e.\u0275\u0275listener("click",function(){return t.saveAll()}),e.\u0275\u0275text(83," Save "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&a&&(e.\u0275\u0275property("@routerTransition",void 0),e.\u0275\u0275advance(18),e.\u0275\u0275propertyInterpolate("value",t.setupSettings.connectionString),e.\u0275\u0275property("ngModel",t.setupSettings.connectionString),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngModel",t.setupSettings.adminPassword),e.\u0275\u0275advance(6),e.\u0275\u0275propertyInterpolate("value",t.setupSettings.webSiteUrl),e.\u0275\u0275property("ngModel",t.setupSettings.webSiteUrl),e.\u0275\u0275advance(5),e.\u0275\u0275propertyInterpolate("value",t.setupSettings.serverUrl),e.\u0275\u0275property("ngModel",t.setupSettings.serverUrl),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngModel",t.setupSettings.defaultLanguage),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",t.languages),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngModel",t.setupSettings.smtpSettings.defaultFromAddress),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",t.setupSettings.smtpSettings.defaultFromDisplayName),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",t.setupSettings.smtpSettings.smtpHost),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",t.setupSettings.smtpSettings.smtpPort),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngModel",t.setupSettings.smtpSettings.smtpEnableSsl),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(61,25,"UseSsl")," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngModel",t.setupSettings.smtpSettings.smtpUseDefaultCredentials),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(66,27,"Use Default Credentials")," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngModel",t.setupSettings.smtpSettings.smtpDomain),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",t.setupSettings.smtpSettings.smtpUserName),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",t.setupSettings.smtpSettings.smtpPassword),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngModel",t.setupSettings.billInfo.legalName),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",t.setupSettings.billInfo.address),e.\u0275\u0275advance(2),e.\u0275\u0275property("buttonBusy",t.saving)("busyText",t.l("SavingWithThreeDot")))},directives:[r.\u0275NgNoValidate,r.NgControlStatusGroup,r.NgForm,r.DefaultValueAccessor,r.NgControlStatus,r.NgModel,r.SelectControlValueAccessor,h.sg,r.NumberValueAccessor,r.CheckboxControlValueAccessor,v.L,r.NgSelectOption,r.\u0275NgSelectMultipleOption],pipes:[M.F],styles:["#kt_aside,#kt_footer,#kt_header{display:none!important}\n"],encapsulation:2,data:{animation:[(0,S.MH)()]}}),l})(),pathMatch:"full"}];let y=(()=>{class l{}return l.\u0275fac=function(a){return new(a||l)},l.\u0275mod=e.\u0275\u0275defineNgModule({type:l}),l.\u0275inj=e.\u0275\u0275defineInjector({imports:[[p.Bz.forChild(E)],p.Bz]}),l})(),I=(()=>{class l{}return l.\u0275fac=function(a){return new(a||l)},l.\u0275mod=e.\u0275\u0275defineNgModule({type:l}),l.\u0275inj=e.\u0275\u0275defineInjector({imports:[[u.o,g.g,y]]}),l})()}}]);